# fatturazione-elettronica-aruba

## Work In progress

Module to easily integrate the Aruba API for electronic invoicing ("Fatturazione Elettronica") with your project.

## Roadmap

TODO

## LInks

**Aruba API docs**

<https://fatturazioneelettronica.aruba.it/apidoc/docs.html>

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [ArubaClient](#arubaclient)
    -   [Parameters](#parameters)
    -   [signIn](#signin)
        -   [Parameters](#parameters-1)
    -   [refreshToken](#refreshtoken)
    -   [searchInvoice](#searchinvoice)
        -   [Parameters](#parameters-2)
    -   [getInvoiceNotifications](#getinvoicenotifications)
        -   [Parameters](#parameters-3)
-   [signIn](#signin-1)
    -   [Parameters](#parameters-4)
-   [refreshToken](#refreshtoken-1)
    -   [Parameters](#parameters-5)

## ArubaClient

ArubaClient constructor

### Parameters

-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
    -   `options.env` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Aruba environment (demo or prod)

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Returns an instance of ArubaClient

### signIn

Calls Aruba to generate a JWT that will be used for future calls

#### Parameters

-   `data` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `data.username` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Aruba username
    -   `data.password` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Aruba password

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Resolves to an boolean if successful, or an object
                   containing the error message

### refreshToken

Calls Aruba to refresh the JWT

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Resolves to an boolean if successful, or an object
                   containing the error message

### searchInvoice

Search an invoice by username, filename, or id

#### Parameters

-   `data`   (optional, default `{}`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Resolves to an boolean if successful, or an object
                   containing the error message

### getInvoiceNotifications

Get the invoice notifications

#### Parameters

-   `data`   (optional, default `{}`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Resolves to an boolean if successful, or an object
                   containing the error message

## signIn

Authentication call that returns the JWT required for the next API calls

### Parameters

-   `config`  
-   `data` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `data.username` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Aruba username
    -   `data.password` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Aruba password
-   `opts` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Optional HTTP client options (needle) (optional, default `{}`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Resolves to an boolean if successful, or an object
                   containing the error message

## refreshToken

Refresh the access token using the existing refresh token

### Parameters

-   `config`  
-   `data` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
    -   `data.refresh_token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Token coming from the initial auth

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Resolves to an boolean if successful, or an object
                   containing the error message
